<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="/css/bootstrap.min.css">
	<script src="/js/jquery2.2.4.min.js"></script>
	<script src="/js/bootstrap.min.js"></script>
	<link rel="stylesheet" href="/css/cropper.min.css">
	<script src="/js/cropper.min.js"></script>  <!-- 图片裁剪jQuery插件 -->
	<style>
		.img{
			width: 300px;
			margin: 0 auto;
		}
		.preview{
			width: 300px;
			height: 300px;
			margin: 0 auto;
		}
		img{
			width: 100%;
		}
	</style>
</head>
<body>
	<div class="container">
		<form action="/up" enctype="multipart/form-data" method="post">
			选择图片:
			<input type="file" name="header-img" id="header-img"/>
			<button class="btn btn-success" type="submit">按钮</button>
		</form>
		<div class="preview">
			<img src="1.png" alt=""/>
		</div>
	</div>
</body>

<script>

	var imgLeft,imgTop,imgWidth,imgHeight;

	$('#headImg').cropper({
		aspectRatio:1/1,
		crop:function(e){
		    imgLeft = Math.ceil(e.x);
		    imgTop = Math.ceil(e.y);
		    imgWidth = Math.round(e.width);
		    imgHeight = Math.round(e.height);
		}
	});


	$('#header-img').change(function(e){
		console.log(e);
		console.log(e.target.value);
		console.log(this.files[0]);

		imgData = '<img src="'+ window.URL.createObjectURL(this.files[0]) +'" />';
		$('.preview').html(imgData);
	});
	
</script>
</html>